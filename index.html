<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Covid-19 Contract</title>
  <link href="./resources/style.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body id="body">
  <!-- Write your code here! -->
  <!-- Page header/title -->
  <div id="header" class="header">
    <p class="page-title">COVID-19 CONTRACT</p>
    <p class="page-subtitle">CONTRACT - ATTESTATION</p>
  </div>

  <!-- Contract form -->
  <div class="contract">
    <form method="post" action="https://www.quixi.com/internship-form">
      
      <!-- implementation of color selector -->
      <div class="color-option">
        <p id="color-message" class="color-message">Select a color scheme:</p>
        <select id="color-select" name="color" onchange="changeColor(this.value)">
          <option id="blue-color" value="blue">BLUE</option>
          <option id="red-color" value="red">RED</option>
          <option id="green-color" value="green">GREEN</option>
        </select>
      </div>    
      
      <!-- table element used to format the contract -->
      <table>
        <tr>
          <td class="attest-1">
            By completing this letter, I attest that the answers provided in completing this screening tool and assessment were truthful and complete. I understand the contagious nature of COVID-19 and the risk associated with the illness in the elderly. I have completed this screening and will inform the facility administrator or supervisor should I experience any symptoms during my shift or visit inside this facility.
          </td>
        </tr>

        <tr>
          <td class="attest-2">
            As a legal record of completing the COVID-19 screening, I am attesting to the truthfulness and completeness of my answers prior to entry at <span id="location" class="location">Woodbridge</span> on <span id="date" class="date"></span>.
          </td>
        </tr>

        <tr>
          <td class="user-input">
            Please type your full name as a legal record of completing the COVID-19 screening: <input type="text" name="name" placeholder="{type name here}" onkeypress="this.style.width = ((this.value.length + 1) * 12) + 'px';">
          </td>
        </tr>

        <tr>
          <td class="welcome">Welcome to Woodbridge!</td>
        </tr>

        <!-- implementation of signiture pad -->
        <tr>
          <td class="signature">Please sign below:</td>
        </tr>
        <tr>
          <td>
            <canvas id="sign" class="sign"></canvas>
            <button type="button" id="reset-sign" class="reset-sign" name="reset-sign" onclick="resetButton()">Reset</button>
          </td>
        </tr>

        <!-- submit button -->
        <tr>
          <td class="submit-button">
            <input type="submit" value="Submit" id="submit">
          </td>
        </tr>
      </table>

    </form>
  </div>

<!-- script for index.js -->
<script type="text/javascript" src="./resources/index.js"></script>

<!-- scripts for signature pad and submission-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.5.3/signature_pad.min.js"></script>
<script>
  let canvas = document.getElementById("sign");
  let signaturePad = new SignaturePad(canvas);
  let dataURL;

  //reset canvas
  const resetButton = () => {
    signaturePad.clear();
  };

  // Adjust canvas coordinate space taking into account pixel ratio,
  // to make it look crisp on mobile devices.
  // This also causes canvas to be cleared.
  function resizeCanvas() {
    // When zoomed out to less than 100%, for some very strange reason,
    // some browsers report devicePixelRatio as less than 1
    // and only part of the canvas is cleared then.
    var ratio =  Math.max(window.devicePixelRatio || 1, 1);

    // This part causes the canvas to be cleared
    canvas.width = canvas.offsetWidth * ratio;
    canvas.height = canvas.offsetHeight * ratio;
    canvas.getContext("2d").scale(ratio, ratio);

    signaturePad.clear();
  }

  window.onresize = resizeCanvas;
  resizeCanvas();

  // savePNGButton.addEventListener("click", function (event) {
  //   if (signaturePad.isEmpty()) {
  //     alert("Please provide a signature first.");
  //   } else {
  //     let dataURL = signaturePad.toDataURL();
  //   }
  // });

</script>

</body>
</html>